<h1 style="text-align: center;">Inscription</h1>
<form class="w-25 mx-auto user" [formGroup]="inscriptionForm" >
    <div *ngIf="registerForm == true">
        <div class="form-group">
            <label>Nom</label>
            <input type="text" class="form-control form-control-user" formControlName="nom">
        </div>
        <div class="alert alert-danger mt-2"
            *ngIf="inscriptionForm.controls['nom'].invalid && inscriptionForm.controls['nom'].touched">
            <div *ngIf="inscriptionForm.controls['nom'].hasError('required')">le Nom est obligatoire</div>
        </div>

        <div class="form-group">
            <label>Prenom</label>
            <input type="text" class="form-control form-control-user" formControlName="prenom">
        </div>

        <div class="alert alert-danger mt-2"
            *ngIf="inscriptionForm.controls['prenom'].invalid && inscriptionForm.controls['prenom'].touched">
            <div *ngIf="inscriptionForm.controls['prenom'].hasError('required')">le Prenom est obligatoire</div>
        </div>

        <div class="form-group">
            <label>Date naissance</label>
            <input type="date" class="form-control form-control-user" formControlName="datenaissance">
        </div>

        <div class="alert alert-danger mt-2"
            *ngIf="inscriptionForm.controls['datenaissance'].invalid && inscriptionForm.controls['datenaissance'].touched">
            <div *ngIf="inscriptionForm.controls['datenaissance'].hasError('required')">la date de naissance est
                obligatoire
            </div>
        </div>

        <div class="form-group">
            <label>Email</label>
            <input type="text" class="form-control form-control-user" formControlName="email">
        </div>

        <div class="alert alert-danger mt-2"
            *ngIf="inscriptionForm.controls['email'].invalid && inscriptionForm.controls['email'].touched">
            <div *ngIf="inscriptionForm.controls['email'].hasError('required')">l'Email est obligatoire</div>
            <div *ngIf="inscriptionForm.controls['email'].hasError('email')">Format incorrecte</div>
        </div>

        <div class="form-group">
            <label>Password</label>
            <input type="password" class="form-control form-control-user" formControlName="psw">
        </div>

        <div class="alert alert-danger mt-2" *ngIf="inscriptionForm.controls['psw'].invalid && inscriptionForm.controls['psw'].touched">
            <div *ngIf="inscriptionForm.controls['psw'].hasError('required')"> Mot de passe est obligatoire</div>
            <div *ngIf="inscriptionForm.controls['psw'].hasError('minlength')"> Minimum 5 caracteres</div>
            <div *ngIf="inscriptionForm.controls['psw'].hasError('pattern')">  doit contenir au moins une lettre majuscule, une lettre minuscule et un chiffre</div>
        </div>

        <div class="form-group">
            <label>Confirm Password</label>
            <input type="password" class="form-control form-control-user" formControlName="confirmPsw">
        </div>

        <div class="alert alert-danger mt-2"
            *ngIf="inscriptionForm.controls['psw'].value != inscriptionForm.controls['confirmPsw'].value && inscriptionForm.controls['confirmPsw'].dirty">
            <div>Confirmer le mot de passe</div>
        </div>
        <div class="alert alert-danger mt-2" *ngIf="error2 == true">
            <div>Un compte avec cette adresse mail existe déja</div>
        </div>
        <div class="mt-3">
            <button class="btn btn-primary mr-3 btn-user" (click)="inscription(inscriptionForm)"
                [disabled]="inscriptionForm.invalid || inscriptionForm.controls['psw'].value != inscriptionForm.controls['confirmPsw'].value && inscriptionForm.controls['confirmPsw'].dirty">S'inscrire</button>
            <button type="reset" class="btn btn-secondary mx-3 btn-user">Reset</button>
        </div>
    </div>
    <div *ngIf="registerForm == false">
        <div class="form-group">
            <label>Un code de verification a été envoyé a votre adresse mail</label>
            <input class="form-control form-control-user" formControlName="code">
        </div>
        <div class="alert alert-danger mt-2" *ngIf="error == true">
            code incorrecte
       </div>
       <button class="btn btn-success my-3 btn-user" (click)="confirmerCode()">Confirmer</button>
    </div>
</form>